{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\dataMgr.js"],"names":["window","dataMgr","scaleX","g_goodsData","cc","sys","localStorage","getItem","JSON","parse","stringToObj","str","obj","sList","split","i","length","sArray","g_sdkState","g_infoStr","g_addPropState","g_goodsInitData","g_GoodsTable","addProp","initSDK","saveBuyInfo","TradeNo","ThirdAppId","setItem","stringify","initGoodsData","log","exitGame","director","end"],"mappings":";;;;;;AAAAA,OAAOC,OAAP,GAAiB,EAAjB;AACAA,QAAQC,MAAR,GAAiB,CAAjB;;AAEAF,OAAOG,WAAP,GAAqBC,GAAGC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAArB;AACA,IAAI,OAAOJ,WAAP,IAAuB,QAA3B,EAAoC;AAChCA,eAAcK,KAAKC,KAAL,CAAWN,WAAX,CAAd;AACH,CAFD,MAEK;AACDA,eAAc,EAAd;AACH;;AAEDH,OAAOU,WAAP,GAAqB,UAASC,GAAT,EAAa;AACjC,KAAIC,MAAM,EAAV;AACA,KAAID,GAAJ,EAAQ;AACP,MAAIE,QAAQF,IAAIG,KAAJ,CAAU,GAAV,CAAZ;AACA,OAAK,IAAIC,IAAI,CAAb,EAAiBA,IAAIF,MAAMG,MAA3B,EAAoCD,GAApC,EAAwC;AACvC,OAAIE,SAASJ,MAAME,CAAN,EAASD,KAAT,CAAe,GAAf,CAAb;AACAF,OAAIK,OAAO,CAAP,CAAJ,IAAiBA,OAAO,CAAP,CAAjB;AACA;AACD;AACD,QAAOL,GAAP;AACA,CAVD;;AAYAZ,OAAOkB,UAAP,GAAoB,KAApB;AACAlB,OAAOmB,SAAP,GAAmB,KAAnB;;AAEAnB,OAAOoB,cAAP,GAAwB,KAAxB;;AAEApB,OAAOqB,eAAP,GAAyB,KAAzB;AACArB,OAAOsB,YAAP,GAAsB,KAAtB;AACA;AACArB,QAAQsB,OAAR,GAAkB,UAASZ,GAAT,EAAa;AAC9BQ,aAAYR,GAAZ;AACGS,kBAAiB,IAAjB;AACH,CAHD;;AAKA;AACAnB,QAAQuB,OAAR,GAAkB,YAAU;AAC3BN,cAAa,IAAb;AACA,CAFD;;AAIA;AACAjB,QAAQwB,WAAR,GAAsB,UAASd,GAAT,EAAa;AAClC,KAAIC,MAAMF,YAAYC,GAAZ,CAAV;AACAR,aAAYS,IAAIc,OAAhB,IAA2Bd,IAAIe,UAA/B;AACAvB,IAAGC,GAAH,CAAOC,YAAP,CAAoBsB,OAApB,CAA4B,WAA5B,EAAwCpB,KAAKqB,SAAL,CAAe1B,WAAf,CAAxC;AACA,CAJD;;AAMAF,QAAQ6B,aAAR,GAAwB,UAASnB,GAAT,EAAa;AACjCU,mBAAkBV,GAAlB;AACAP,IAAG2B,GAAH,CAAO,uBAAP,EAA+BV,eAA/B;AACH,CAHD;;AAKApB,QAAQ+B,QAAR,GAAmB,YAAU;AACzB5B,IAAG6B,QAAH,CAAYC,GAAZ;AACH,CAFD","file":"dataMgr.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["window.dataMgr = {}\r\ndataMgr.scaleX = 0\r\n\r\nwindow.g_goodsData = cc.sys.localStorage.getItem(\"goodsData\");\r\nif (typeof(g_goodsData) == \"string\"){\r\n    g_goodsData = JSON.parse(g_goodsData);\r\n}else{\r\n    g_goodsData = {};\r\n}\r\n\r\nwindow.stringToObj = function(str){\r\n\tvar obj = {}\r\n\tif (str){\r\n\t\tvar sList = str.split(\";\")\r\n\t\tfor (var i = 0 ; i < sList.length ; i++){\r\n\t\t\tvar sArray = sList[i].split(\":\");\r\n\t\t\tobj[sArray[0]] = sArray[1];\r\n\t\t}\r\n\t}\r\n\treturn obj;\r\n}\r\n\r\nwindow.g_sdkState = false;\r\nwindow.g_infoStr = false\r\n\r\nwindow.g_addPropState = false\r\n\r\nwindow.g_goodsInitData = false\r\nwindow.g_GoodsTable = false\r\n//购买成功回调\r\ndataMgr.addProp = function(str){\r\n\tg_infoStr = str;\r\n    g_addPropState = true;\r\n}\r\n\r\n//sdk初始化成功\r\ndataMgr.initSDK = function(){\r\n\tg_sdkState = true;\r\n}\r\n\r\n//保存购买信息\r\ndataMgr.saveBuyInfo = function(str){\r\n\tvar obj = stringToObj(str);\r\n\tg_goodsData[obj.TradeNo] = obj.ThirdAppId;\r\n\tcc.sys.localStorage.setItem(\"goodsData\",JSON.stringify(g_goodsData));\r\n}\r\n\r\ndataMgr.initGoodsData = function(str){\r\n    g_goodsInitData = str\r\n    cc.log(\">>>>>>g_goodsInitData\",g_goodsInitData)\r\n}\r\n\r\ndataMgr.exitGame = function(){\r\n    cc.director.end();\r\n}\r\n"]}